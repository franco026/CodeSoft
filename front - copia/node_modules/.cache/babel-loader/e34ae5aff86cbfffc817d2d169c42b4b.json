{"ast":null,"code":"import { createStore, applyMiddleware, combineReducers, compose } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport thunk from 'redux-thunk';\nimport reducer from './reduce/auth';\nconst middleware = [thunk];\nconst initialState = {\n  token: null,\n  error: null,\n  loading: false,\n  authenticate: null,\n  usuario: null\n};\n\nfunction saveToLocalStorage(state) {\n  try {\n    const serializedState = JSON.stringify(state);\n    localStorage.setItem('state', serializedState);\n  } catch (e) {\n    console.log(e);\n  }\n}\n\nfunction loadFromLocalStorage() {\n  try {\n    const serializedState = localStorage.getItem('state');\n    if (serializedState === null) return initialState;\n    return serializedState;\n  } catch (e) {\n    console.log(e);\n    return initialState;\n  }\n}\n\nconst persistedState = loadFromLocalStorage();\nconst reduc = combineReducers({\n  reducer,\n  token: (state = {}) => state,\n  error: (state = {}) => state,\n  loading: (state = {}) => state,\n  authenticate: (state = {}) => state,\n  usuario: (state = {}) => state\n});\nconst composeEnhances = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(reducer, composeEnhances(applyMiddleware(thunk)));\nstore.subscribe(() => saveToLocalStorage(store.getState()));\nexport default store;","map":{"version":3,"sources":["C:/Users/franc/Documents/practicas/CodeSoft2/Front/src/store/store.js"],"names":["createStore","applyMiddleware","combineReducers","compose","composeWithDevTools","thunk","reducer","middleware","initialState","token","error","loading","authenticate","usuario","saveToLocalStorage","state","serializedState","JSON","stringify","localStorage","setItem","e","console","log","loadFromLocalStorage","getItem","persistedState","reduc","composeEnhances","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","subscribe","getState"],"mappings":"AAAA,SAASA,WAAT,EAAsBC,eAAtB,EAAuCC,eAAvC,EAAwDC,OAAxD,QAAuE,OAAvE;AACA,SAASC,mBAAT,QAAoC,0BAApC;AACA,OAAOC,KAAP,MAAkB,aAAlB;AACA,OAAOC,OAAP,MAAoB,eAApB;AAEA,MAAMC,UAAU,GAAG,CAACF,KAAD,CAAnB;AACA,MAAMG,YAAY,GAAG;AACjBC,EAAAA,KAAK,EAAE,IADU;AAEjBC,EAAAA,KAAK,EAAE,IAFU;AAGjBC,EAAAA,OAAO,EAAE,KAHQ;AAIjBC,EAAAA,YAAY,EAAE,IAJG;AAKjBC,EAAAA,OAAO,EAAE;AALQ,CAArB;;AAQA,SAASC,kBAAT,CAA4BC,KAA5B,EAAmC;AAC/B,MAAI;AACA,UAAMC,eAAe,GAAGC,IAAI,CAACC,SAAL,CAAeH,KAAf,CAAxB;AACAI,IAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BJ,eAA9B;AACH,GAHD,CAGE,OAAOK,CAAP,EAAU;AACRC,IAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACH;AACJ;;AAED,SAASG,oBAAT,GAAgC;AAC5B,MAAI;AACA,UAAMR,eAAe,GAAGG,YAAY,CAACM,OAAb,CAAqB,OAArB,CAAxB;AACA,QAAIT,eAAe,KAAK,IAAxB,EAA8B,OAAOR,YAAP;AAC9B,WAAOQ,eAAP;AACH,GAJD,CAIE,OAAOK,CAAP,EAAU;AACRC,IAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACA,WAAOb,YAAP;AACH;AACJ;;AAED,MAAMkB,cAAc,GAAGF,oBAAoB,EAA3C;AAEA,MAAMG,KAAK,GAAGzB,eAAe,CAAC;AAC1BI,EAAAA,OAD0B;AAE1BG,EAAAA,KAAK,EAAE,CAACM,KAAK,GAAG,EAAT,KAAgBA,KAFG;AAG1BL,EAAAA,KAAK,EAAE,CAACK,KAAK,GAAG,EAAT,KAAgBA,KAHG;AAI1BJ,EAAAA,OAAO,EAAE,CAACI,KAAK,GAAG,EAAT,KAAgBA,KAJC;AAK1BH,EAAAA,YAAY,EAAE,CAACG,KAAK,GAAG,EAAT,KAAgBA,KALJ;AAM1BF,EAAAA,OAAO,EAAE,CAACE,KAAK,GAAG,EAAT,KAAgBA;AANC,CAAD,CAA7B;AASA,MAAMa,eAAe,GAAGC,MAAM,CAACC,oCAAP,IAA+C3B,OAAvE;AAEA,MAAM4B,KAAK,GAAG/B,WAAW,CAACM,OAAD,EAAUsB,eAAe,CAC9C3B,eAAe,CAACI,KAAD,CAD+B,CAAzB,CAAzB;AAKA0B,KAAK,CAACC,SAAN,CAAgB,MAAMlB,kBAAkB,CAACiB,KAAK,CAACE,QAAN,EAAD,CAAxC;AACA,eAAeF,KAAf","sourcesContent":["import { createStore, applyMiddleware, combineReducers, compose } from 'redux';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport thunk from 'redux-thunk';\r\nimport reducer from './reduce/auth';\r\n\r\nconst middleware = [thunk];\r\nconst initialState = {\r\n    token: null,\r\n    error: null,\r\n    loading: false,\r\n    authenticate: null,\r\n    usuario: null\r\n}\r\n\r\nfunction saveToLocalStorage(state) {\r\n    try {\r\n        const serializedState = JSON.stringify(state)\r\n        localStorage.setItem('state', serializedState)\r\n    } catch (e) {\r\n        console.log(e)\r\n    }\r\n}\r\n\r\nfunction loadFromLocalStorage() {\r\n    try {\r\n        const serializedState = localStorage.getItem('state')\r\n        if (serializedState === null) return initialState\r\n        return serializedState\r\n    } catch (e) {\r\n        console.log(e)\r\n        return initialState\r\n    }\r\n}\r\n\r\nconst persistedState = loadFromLocalStorage()\r\n\r\nconst reduc = combineReducers({\r\n    reducer,\r\n    token: (state = {}) => state,\r\n    error: (state = {}) => state,\r\n    loading: (state = {}) => state,\r\n    authenticate: (state = {}) => state,\r\n    usuario: (state = {}) => state\r\n});\r\n\r\nconst composeEnhances = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\r\n\r\nconst store = createStore(reducer, composeEnhances(\r\n    applyMiddleware(thunk)\r\n));\r\n\r\n\r\nstore.subscribe(() => saveToLocalStorage(store.getState()))\r\nexport default store;"]},"metadata":{},"sourceType":"module"}